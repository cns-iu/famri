<mat-toolbar class="toolbar z-depth-1-half">
  <mat-icon class="hamburger" (click)="sidenav.toggle()">menu</mat-icon>
  <span>Flight Attendant Medical Research Institute (FAMRI)</span>
  <img id="cnsLogo" src="assets/cns-logo.png" title="Cyberinfrastructure for Network Science Center">
</mat-toolbar>

<mat-sidenav-container>
  <mat-sidenav #sidenav
    class="sidenav"
    mode="side"
    [opened]="true"
    (openedChange)="openState = $event">
    <p class="sidenavTitle">Filters</p>
    <hr>
    <famri-filter (filterChange)="filter = $event"></famri-filter>
    <br><br><br>
    <p class="sidenavTitle">Legend</p>
    <hr>
    <famri-coauthor-network-legend *ngIf="tabIndex === 0" [filter]="filter">
    </famri-coauthor-network-legend>
    <famri-science-map-legend *ngIf="tabIndex === 1" [filter]="filter">
    </famri-science-map-legend>
    <famri-geomap-legend *ngIf="tabIndex === 2" [filter]="filter">
    </famri-geomap-legend>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-tab-group #tabs>
      <mat-tab label="Co-author Network">
        <famri-coauthor-network *ngIf="openState"
          [width]="narrowWidth"
          [height]="height"
          [filter]="filter">
        </famri-coauthor-network>
        <famri-coauthor-network *ngIf="!openState"
          [width]="wideWidth"
          [height]="height"
          [filter]="filter">
        </famri-coauthor-network>
      </mat-tab>
      <mat-tab label="Science Map">
        <famri-science-map *ngIf="openState"
          [width]="narrowWidth"
          [height]="height"
          [filter]="filter"
          (nodeClicked)="results.showSubdiscipline($event)"
          (filterUpdateComplete)="filtersUpdating = false">
        </famri-science-map>
        <famri-science-map *ngIf="!openState"
          [width]="wideWidth"
          [height]="height"
          [filter]="filter"
          (nodeClicked)="results.showSubdiscipline($event)"
          (filterUpdateComplete)="filtersUpdating = false">
        </famri-science-map>
      </mat-tab>
      <mat-tab label="Geomap">
        <famri-geomap [width]="openState ? narrowWidth : wideWidth"
                      [height]="height"
                      [filter]="filter">
        </famri-geomap>
      </mat-tab>
      <mat-tab label="Statistics">
        <famri-statistics [filter]="filter"></famri-statistics>
      </mat-tab>
    </mat-tab-group>
  </mat-sidenav-content>
</mat-sidenav-container>
